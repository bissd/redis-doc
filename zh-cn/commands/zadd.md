以指定的分数添加所有指定的成员到存储在 `key` 的排序集合中。
可以指定多个分数/成员对。
如果指定的成员已经是排序集合的成员，则更新分数并将元素重新插入到正确的位置，以确保正确的排序。

如果`key`不存在，则创建一个新的有序集，其指定的成员作为唯一的成员，就像有序集为空一样。如果`key`存在但不持有一个有序集合，则返回错误。

得分值应该是双精度浮点数的字符串表示。`+inf`和`-inf`值也是有效值。

ZADD 选项
---

ZADD支持一系列选项，在键的名称之后和第一个分数参数之前指定。选项包括：

* **XX**：只更新已存在的元素，不添加新元素。
* **NX**：只添加新元素，不更新已存在的元素。
* **LT**：只在新分数**小于**当前分数时更新已存在的元素。此标志不会阻止添加新元素。
* **GT**：只在新分数**大于**当前分数时更新已存在的元素。此标志不会阻止添加新元素。
* **CH**：将返回值从新添加元素的数量修改为更改的元素总数（CH是"changed"的缩写）。已更改的元素包括**新添加的元素**和已存在但**分数已更新的元素**。因此，命令行中指定的元素如果其分数与过去相同，则不计数。注意：通常，`ZADD`的返回值仅计算新添加的元素的数量。
* **INCR**：当指定此选项时，`ZADD`的行为类似于`ZINCRBY`。在此模式下只能指定一个分数-元素对。

注意：**GT**、**LT**和**NX**选项是互斥的。

可以精确表示的整数分数范围
---

Redis有序集使用双64位浮点数表示分数。在我们支持的所有架构中，这被表示为IEEE 754浮点数，它能够准确表示介于-(2^53)和+(2^53)之间的整数。更具体地说，所有介于-9007199254740992和9007199254740992之间的整数都可以完美表示。较大的整数或分数以指数形式在内部表示，因此设置为分数时，可能只得到近似的十进制数或非常大的整数。

排序集合 101
---

排序集合按照得分以升序排序。
同一元素只能存在一次，不允许重复元素。
得分可以通过`ZADD`进行修改，这将更新元素的得分，并且作为副作用，会更新它在排序集合中的位置；也可以通过`ZINCRBY`进行修改，相对于其先前值更新得分。

使用`ZSCORE`命令可以获取元素的当前分数，还可以用于验证元素是否已经存在。

关于有序集合的介绍，请参阅数据类型页面上的[有序集合][tdtss]。

[tdtss]: /topics/data-types#sorted-sets

相同分数的元素
---

在排序集合中，由于每个元素是唯一的，不能重复出现相同的元素，但是可以添加具有相同分数的多个不同元素。当多个元素具有相同的分数时，它们以字典顺序排序（虽然它们仍然按分数作为第一个键排序，但在局部上，所有具有相同分数的元素相对地按字典顺序排序）。

使用的词典排序是二进制的，它将字符串作为字节数组进行比较。

如果用户将所有元素插入一个具有相同分数（例如0）的排序集合中，排序集合中的所有元素都会按词典顺序排列，并且可以使用`ZRANGEBYLEX`命令对元素进行范围查询（注意：还可以使用`ZRANGEBYSCORE`对排序集合进行分数范围查询）。

@examples

```cli
ZADD myzset 1 "one"
ZADD myzset 1 "uno"
ZADD myzset 2 "two" 3 "three"
ZRANGE myzset 0 -1 WITHSCORES
```
