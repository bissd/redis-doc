在复制上下文中提供有关Redis实例角色的信息，通过返回实例当前是否为`master`、`slave`或`sentinel`。该命令还返回有关复制状态（如果角色是master或slave）或监视的主服务器名称列表（如果角色是sentinel）的附加信息。

## 输出格式

命令返回一个元素array。第一个元素是实例的角色，可以是以下三个字符串之一：

* "master"
* "slave"
* "sentinel"

数组的额外元素取决于角色。

## Master 输出

当在主实例中调用`ROLE`时的输出示例：

```
1) "master"
2) (integer) 3129659
3) 1) 1) "127.0.0.1"
      2) "9001"
      3) "3129242"
   2) 1) "127.0.0.1"
      2) "9002"
      3) "3129543"
```

主输出由以下部分组成：

1. 字符串`master`。
2. 当前主复制偏移量，这是主服务器和从服务器共享的一个偏移量，用于了解在部分重新同步时，从服务器需要获取继续的复制流的部分。
3. 由三个元素数组组成的数组，表示已连接的从服务器。每个子数组包含从服务器的IP、端口和最后确认的复制偏移量。

## 副本上的命令输出

当在副本实例中调用 `ROLE` 时的输出示例：

```
1) "slave"
2) "127.0.0.1"
3) (integer) 9000
4) "connected"
5) (integer) 3167038
```

复制品输出由以下部分组成：

1. 字符串 `slave`，因为需要向后兼容（请参见本页末尾的说明）。
2. 主服务器的 IP。
3. 主服务器的端口号。
4. 复制状态，从主服务器的角度来看，可以是 `connect`（实例需要连接到主服务器）、`connecting`（主-备连接正在进行中）、`sync`（主服务器和从服务器正在尝试进行同步）、`connected`（从服务器在线）。
5. 到目前为止从从服务器接收的数据量，以主服务器复制偏移量来衡量。

## Sentinel 输出

以下是Sentinel输出的示例：

```
1) "sentinel"
2) 1) "resque-master"
   2) "html-fragments-master"
   3) "stats-master"
   4) "metadata-master"
```

哨兵输出由以下部分组成：

1. 字符串 `sentinel`.
2. 由该 Sentinel 实例监控的主服务器名称数组.

@examples

```cli
ROLE
```

关于在此手册中使用的“slave”一词的说明：从Redis 5开始，如果不考虑向后兼容性，Redis项目将不再使用“slave”一词。不幸的是，在此命令中，“slave”一词是协议的一部分，因此只有当该API自然过时时，我们才能删除这种情况的发生。
